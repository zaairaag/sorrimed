<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SorriaMed | Fluxo do Agente Eva - MVP v0.1</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Montserrat:wght@600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        orbi: { bg: '#0f172a', card: '#1e293b', accent: '#DC0073', success: '#10b981', warning: '#f59e0b', text: '#f8fafc', textSec: '#94a3b8' }
                    },
                    fontFamily: { sans: ['Inter', 'sans-serif'], display: ['Montserrat', 'sans-serif'] }
                }
            }
        }
    </script>
    <style>
        body { background-color: #0f172a; color: #f8fafc; }
        .bg-grid { 
            background-image: radial-gradient(circle, #334155 1px, transparent 1px); 
            background-size: 24px 24px;
            background-position: 0 0, 12px 12px;
        }
        .mermaid { min-width: 100%; }
        .mermaid svg { 
            min-width: 1000px !important;
            filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.3));
        }
        .section-card { 
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%); 
            border: 1px solid #334155;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.05);
        }
        .section-card:hover { 
            border-color: #DC0073;
            box-shadow: 0 12px 40px rgba(220, 0, 115, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.05);
        }
        .tab-active { background: linear-gradient(135deg, #DC0073 0%, #9d174d 100%); }
        .diagram-container { 
            overflow: auto; 
            cursor: grab;
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.95) 0%, rgba(30, 41, 59, 0.95) 100%);
        }
        .diagram-container:active { cursor: grabbing; }
        .diagram-wrapper { transform-origin: top left; transition: transform 0.2s ease; }
        ::-webkit-scrollbar { width: 10px; height: 10px; }
        ::-webkit-scrollbar-track { background: #1e293b; border-radius: 5px; }
        ::-webkit-scrollbar-thumb { 
            background: linear-gradient(180deg, #475569 0%, #334155 100%);
            border-radius: 5px;
            border: 2px solid #1e293b;
        }
        ::-webkit-scrollbar-thumb:hover { background: linear-gradient(180deg, #64748b 0%, #475569 100%); }
        
        /* Mermaid Styles */
        .mermaid .node rect { 
            rx: 16px !important; 
            ry: 16px !important;
        }
        .mermaid .node polygon { 
            rx: 12px !important; 
            ry: 12px !important;
        }
        .mermaid .cluster rect { 
            rx: 20px !important; 
            ry: 20px !important;
        }
        .mermaid .cluster .cluster-label { 
            font-family: 'Montserrat', sans-serif !important; 
            font-weight: 700 !important;
        }
        .mermaid .cluster .cluster-label .nodeLabel {
            margin-bottom: 20px !important;
            padding-bottom: 15px !important;
        }
        .mermaid .edgeLabel { 
            background: #1e293b !important;
            padding: 6px 14px !important;
            border-radius: 10px !important;
        }
        .mermaid .label { 
            font-family: 'Inter', sans-serif !important; 
        }
        .diagram-wrapper {
            padding: 20px;
        }
    </style>
</head>
<body class="min-h-screen font-sans">

    <!-- Header -->
    <header class="bg-orbi-card/80 backdrop-blur-md border-b border-white/10 sticky top-0 z-50">
        <div class="max-w-[1800px] mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center gap-4">
                <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-orbi-accent to-pink-600 flex items-center justify-center font-display font-bold text-2xl shadow-lg shadow-orbi-accent/30">S</div>
                <div>
                    <h1 class="font-display font-bold text-xl">Agente Eva - SorriaMed</h1>
                    <p class="text-sm text-orbi-textSec">MVP v0.1 | Fluxo Completo Interativo</p>
                </div>
            </div>
            <div class="flex items-center gap-3">
                <button onclick="switchTab('principal')" id="tab-principal" class="tab-active px-5 py-2.5 rounded-full text-sm font-semibold transition-all">Fluxo Principal</button>
                <button onclick="switchTab('integracoes')" id="tab-integracoes" class="px-5 py-2.5 rounded-full text-sm font-semibold bg-orbi-card hover:bg-white/10 transition-all">Integracoes</button>
                <button onclick="switchTab('pendencias')" id="tab-pendencias" class="px-5 py-2.5 rounded-full text-sm font-semibold bg-orbi-card hover:bg-white/10 transition-all flex items-center gap-2">
                    Pendencias <span class="bg-orbi-warning text-black text-xs px-2 py-0.5 rounded-full font-bold">12</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Legend -->
    <div class="bg-gradient-to-r from-orbi-card/80 via-orbi-card/60 to-orbi-card/80 border-b border-white/10 py-4 backdrop-blur-sm">
        <div class="max-w-[1800px] mx-auto px-6 flex flex-wrap items-center justify-center gap-8 text-sm font-medium">
            <div class="flex items-center gap-3 px-4 py-2 rounded-xl bg-white/5 hover:bg-white/10 transition-all cursor-default">
                <div class="w-6 h-6 rounded-lg bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center text-xs font-bold shadow-lg shadow-emerald-500/30">‚úì</div>
                <span class="text-orbi-textSec font-semibold">Definido</span>
            </div>
            <div class="flex items-center gap-3 px-4 py-2 rounded-xl bg-white/5 hover:bg-white/10 transition-all cursor-default">
                <div class="w-6 h-6 rounded-lg bg-gradient-to-br from-amber-500 to-amber-600 flex items-center justify-center text-xs font-bold shadow-lg shadow-amber-500/30 border-2 border-amber-400 border-dashed">‚è≥</div>
                <span class="text-orbi-textSec font-semibold">Pendente</span>
            </div>
            <div class="flex items-center gap-3 px-4 py-2 rounded-xl bg-white/5 hover:bg-white/10 transition-all cursor-default">
                <div class="w-6 h-6 rounded-lg bg-gradient-to-br from-rose-500 to-rose-600 flex items-center justify-center text-xs font-bold shadow-lg shadow-rose-500/30">üö®</div>
                <span class="text-orbi-textSec font-semibold">Urg√™ncia</span>
            </div>
            <div class="flex items-center gap-3 px-4 py-2 rounded-xl bg-white/5 hover:bg-white/10 transition-all cursor-default">
                <div class="w-6 h-6 rounded-lg bg-gradient-to-br from-fuchsia-500 to-fuchsia-600 flex items-center justify-center text-xs font-bold shadow-lg shadow-fuchsia-500/30">üîÄ</div>
                <span class="text-orbi-textSec font-semibold">Decis√£o</span>
            </div>
            <div class="flex items-center gap-3 ml-6 pl-6 border-l border-white/20">
                <span class="text-orbi-textSec font-semibold">Zoom:</span>
                <button onclick="zoomOut()" class="w-9 h-9 rounded-lg bg-gradient-to-br from-orbi-card to-orbi-bg hover:from-orbi-accent hover:to-pink-600 flex items-center justify-center font-bold transition-all shadow-lg hover:shadow-orbi-accent/30 text-sm">‚àí</button>
                <span id="zoom-level" class="w-16 text-center font-mono font-bold text-orbi-textSec bg-orbi-card px-3 py-1.5 rounded-lg">100%</span>
                <button onclick="zoomIn()" class="w-9 h-9 rounded-lg bg-gradient-to-br from-orbi-card to-orbi-bg hover:from-orbi-accent hover:to-pink-600 flex items-center justify-center font-bold transition-all shadow-lg hover:shadow-orbi-accent/30 text-sm">+</button>
                <button onclick="resetZoom()" class="px-5 h-9 rounded-lg bg-gradient-to-br from-orbi-card to-orbi-bg hover:from-orbi-accent hover:to-pink-600 text-xs font-semibold transition-all shadow-lg hover:shadow-orbi-accent/30">Reset</button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="bg-grid min-h-[calc(100vh-140px)]">

        <!-- TAB: Fluxo Principal -->
        <div id="view-principal" class="p-6">
            <div class="max-w-[1800px] mx-auto">
                <div class="mb-8 text-center">
                    <div class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-gradient-to-r from-orbi-accent/20 to-pink-600/20 border border-orbi-accent/30 mb-4">
                        <span class="text-orbi-accent font-bold text-xs">FLUXO PRINCIPAL</span>
                    </div>
                    <h2 class="font-display text-3xl font-bold mb-3 bg-gradient-to-r from-white via-orbi-textSec to-white bg-clip-text text-transparent">1 - Experi√™ncia do Paciente no WhatsApp</h2>
                    <p class="text-orbi-textSec text-lg">Do primeiro oi at√© o agendamento confirmado</p>
                </div>
                <div class="section-card rounded-2xl p-8 diagram-container" style="max-height: 80vh;">
                    <div class="diagram-wrapper" id="wrapper-principal">
                        <pre class="mermaid">
flowchart TD
    subgraph ENTRADA ["üì± ENTRADA DO PACIENTE"]
        direction TB
        A["üì≤ Paciente chama no WhatsApp"]
        B["ü§ñ Eva responde em 15s ‚úì"]
    end

    subgraph METODO ["ü¶∑ METODO SORRIAMED"]
        direction TB
        C["üìã Explica 1¬∫ passo obrigat√≥rio ‚úì"]
        D{"üîç Paciente est√° com<br/>dor ou desconforto?"}
    end

    subgraph URGENCIA ["üö® ROTA DE URG√äNCIA"]
        direction TB
        E["‚ö†Ô∏è Interrompe fluxo"]
        F["üìû Encaminha IMEDIATO<br/>21 99773-3041"]
        F2["üïê Seg-Sex 8h-18h"]
        G["üè• FIM - Atendimento Cl√≠nico"]
    end

    subgraph COLETA ["üìù COLETA DE DADOS"]
        direction TB
        H["üë§ Coleta Nome Completo ‚úì"]
        I["üè¢ Apresenta 5 Unidades ‚è≥"]
    end

    subgraph AGENDAMENTO ["üìÖ AGENDAMENTO"]
        direction TB
        J["üïí Oferece at√© 3 hor√°rios ‚úì"]
        K{"‚úã Paciente escolhe<br/>uma op√ß√£o?"}
        L["üíæ Agenda no Clinicorp ‚úì"]
        M["‚úâÔ∏è Envia confirma√ß√£o ‚úì"]
    end

    subgraph POSAGENDAMENTO ["‚úÖ P√ìS-AGENDAMENTO"]
        direction TB
        N["‚≠ê Envia Google Reviews ‚è≥"]
        O["üìç Envia Como Chegar ‚è≥"]
        P["üìä Atualiza CRM Clinia ‚è≥"]
        Q["üéâ FIM - Agendamento Completo"]
    end

    subgraph FOLLOWUP ["üîÑ FOLLOW-UP"]
        direction TB
        R["üí¨ Envia FUP ‚è≥"]
        S{"üëÄ 3 msgs visualizadas<br/>sem resposta?"}
        T["üëã Encerramento elegante ‚úì"]
        U["üòî FIM - Sem Resposta"]
    end

    A --> B
    B --> C
    C --> D
    
    D -->|"üò£ SIM - DOR"| E
    E --> F
    F --> F2
    F2 --> G
    
    D -->|"üòä N√ÉO"| H
    H --> I
    I --> J
    J --> K
    
    K -->|"üëç SIM"| L
    L --> M
    M --> N
    N --> O
    O --> P
    P --> Q
    
    K -->|"ü§∑ N√ÉO / Sil√™ncio"| R
    R --> S
    S -->|"‚úì SIM"| T
    T --> U
    S -->|"‚úó N√ÉO"| R

    style A fill:#0f4c75,stroke:#10b981,stroke-width:3px,color:#fff,stroke-dasharray:0
    style B fill:#0f4c75,stroke:#10b981,stroke-width:3px,color:#fff,stroke-dasharray:0
    style C fill:#0f4c75,stroke:#10b981,stroke-width:3px,color:#fff,stroke-dasharray:0
    style D fill:#2d1b3d,stroke:#DC0073,stroke-width:4px,color:#fff,stroke-dasharray:0
    style E fill:#5a1a1a,stroke:#ef4444,stroke-width:3px,color:#fff,stroke-dasharray:0
    style F fill:#5a1a1a,stroke:#ef4444,stroke-width:3px,color:#fff,stroke-dasharray:0
    style F2 fill:#5a1a1a,stroke:#ef4444,stroke-width:3px,color:#fff,stroke-dasharray:0
    style G fill:#991b1b,stroke:#fca5a5,stroke-width:3px,color:#fff,stroke-dasharray:0
    style H fill:#0f4c75,stroke:#10b981,stroke-width:3px,color:#fff,stroke-dasharray:0
    style I fill:#78350f,stroke:#f59e0b,stroke-width:4px,color:#fff,stroke-dasharray:5 5
    style J fill:#0f4c75,stroke:#10b981,stroke-width:3px,color:#fff,stroke-dasharray:0
    style K fill:#2d1b3d,stroke:#DC0073,stroke-width:4px,color:#fff,stroke-dasharray:0
    style L fill:#0f4c75,stroke:#10b981,stroke-width:3px,color:#fff,stroke-dasharray:0
    style M fill:#0f4c75,stroke:#10b981,stroke-width:3px,color:#fff,stroke-dasharray:0
    style N fill:#78350f,stroke:#f59e0b,stroke-width:4px,color:#fff,stroke-dasharray:5 5
    style O fill:#78350f,stroke:#f59e0b,stroke-width:4px,color:#fff,stroke-dasharray:5 5
    style P fill:#78350f,stroke:#f59e0b,stroke-width:4px,color:#fff,stroke-dasharray:5 5
    style Q fill:#065f46,stroke:#6ee7b7,stroke-width:3px,color:#fff,stroke-dasharray:0
    style R fill:#78350f,stroke:#f59e0b,stroke-width:4px,color:#fff,stroke-dasharray:5 5
    style S fill:#2d1b3d,stroke:#DC0073,stroke-width:4px,color:#fff,stroke-dasharray:0
    style T fill:#0f4c75,stroke:#10b981,stroke-width:3px,color:#fff,stroke-dasharray:0
    style U fill:#92400e,stroke:#fcd34d,stroke-width:3px,color:#fff,stroke-dasharray:0

    style ENTRADA fill:#0a1628,stroke:#10b981,stroke-width:3px,color:#10b981,stroke-dasharray:0
    style METODO fill:#0a1628,stroke:#DC0073,stroke-width:3px,color:#DC0073,stroke-dasharray:0
    style URGENCIA fill:#0a1628,stroke:#ef4444,stroke-width:3px,color:#ef4444,stroke-dasharray:0
    style COLETA fill:#0a1628,stroke:#3b82f6,stroke-width:3px,color:#3b82f6,stroke-dasharray:0
    style AGENDAMENTO fill:#0a1628,stroke:#8b5cf6,stroke-width:3px,color:#8b5cf6,stroke-dasharray:0
    style POSAGENDAMENTO fill:#0a1628,stroke:#10b981,stroke-width:3px,color:#10b981,stroke-dasharray:0
    style FOLLOWUP fill:#0a1628,stroke:#f59e0b,stroke-width:3px,color:#f59e0b,stroke-dasharray:0
                        </pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB: Integracoes -->
        <div id="view-integracoes" class="hidden p-6">
            <div class="max-w-[1600px] mx-auto">
                <div class="mb-8 text-center">
                    <div class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-gradient-to-r from-blue-500/20 to-cyan-500/20 border border-blue-500/30 mb-4">
                        <span class="text-blue-400 font-bold text-xs">ARQUITETURA</span>
                    </div>
                    <h2 class="font-display text-3xl font-bold mb-3 bg-gradient-to-r from-white via-orbi-textSec to-white bg-clip-text text-transparent">4 - Arquitetura de Integra√ß√µes</h2>
                    <p class="text-orbi-textSec text-lg">Como os sistemas se conectam por tr√°s</p>
                </div>
                <div class="section-card rounded-2xl p-8 diagram-container" style="max-height: 70vh;">
                    <div class="diagram-wrapper" id="wrapper-integracoes">
                        <pre class="mermaid">
flowchart LR
    subgraph PACIENTE ["üë§ PACIENTE"]
        P1["üì± WhatsApp do Paciente"]
    end

    subgraph WHATSAPP ["üí¨ WHATSAPP BUSINESS API"]
        direction TB
        W1["‚òÅÔ∏è Meta Cloud API ‚úì"]
        W2["üì• Recebe mensagens"]
        W3["üì§ Envia respostas"]
    end

    subgraph AGENTE ["ü§ñ AGENTE EVA"]
        direction TB
        E1["üß† Motor de IA"]
        E2["‚öôÔ∏è Regras de Neg√≥cio"]
        E3["üîÄ Roteamento"]
        E4["üîÑ Follow-up"]
    end

    subgraph CLINICORP ["üè• CLINICORP"]
        direction TB
        C1["üìÖ Consulta Agenda ‚úì"]
        C2["‚ûï Cria Agendamento ‚úì"]
        C3["üîÑ Atualiza Status ‚úì"]
        C4["üìù Remarca√ß√£o ‚è≥"]
    end

    subgraph CLINIA ["üìä CRM CLINIA"]
        direction TB
        CL1["üë§ Cadastro de Lead ‚è≥"]
        CL2["üìà Status do Funil ‚è≥"]
        CL3["üìú Hist√≥rico ‚è≥"]
    end

    subgraph CONTEUDO ["üìç CONTE√öDO"]
        direction TB
        CO1["üó∫Ô∏è Google Maps ‚è≥"]
        CO2["‚≠ê Google Reviews ‚è≥"]
        CO3["üìç Endere√ßos ‚è≥"]
    end

    subgraph HUB ["üéØ HUB ORBI"]
        direction TB
        H1["üìã Logs e Registro ‚úì"]
        H2["üìä Analytics ‚úì"]
    end

    P1 ==> W1
    W1 --> W2
    W3 --> W1
    W1 ==> P1
    
    W2 ==> E1
    E1 --> E2
    E2 --> E3
    E3 --> E4
    E1 ==> W3
    
    E2 --> C1
    E2 --> C2
    E2 --> C3
    E2 -.->|"‚è≥"| C4
    
    E2 -.->|"‚è≥"| CL1
    E2 -.->|"‚è≥"| CL2
    E2 -.->|"‚è≥"| CL3
    
    E2 -.->|"‚è≥"| CO1
    E2 -.->|"‚è≥"| CO2
    E2 -.->|"‚è≥"| CO3
    
    E1 --> H1
    E1 --> H2

    style P1 fill:#0f4c75,stroke:#10b981,stroke-width:3px,color:#fff,stroke-dasharray:0
    style W1 fill:#075e54,stroke:#25D366,stroke-width:3px,color:#fff,stroke-dasharray:0
    style W2 fill:#128C7E,stroke:#25D366,stroke-width:2.5px,color:#fff,stroke-dasharray:0
    style W3 fill:#128C7E,stroke:#25D366,stroke-width:2.5px,color:#fff,stroke-dasharray:0
    style E1 fill:#9d174d,stroke:#f472b6,stroke-width:3px,color:#fff,stroke-dasharray:0
    style E2 fill:#6a1f5a,stroke:#DC0073,stroke-width:2.5px,color:#fff,stroke-dasharray:0
    style E3 fill:#6a1f5a,stroke:#DC0073,stroke-width:2.5px,color:#fff,stroke-dasharray:0
    style E4 fill:#6a1f5a,stroke:#DC0073,stroke-width:2.5px,color:#fff,stroke-dasharray:0
    style C1 fill:#0f4c75,stroke:#10b981,stroke-width:3px,color:#fff,stroke-dasharray:0
    style C2 fill:#0f4c75,stroke:#10b981,stroke-width:3px,color:#fff,stroke-dasharray:0
    style C3 fill:#0f4c75,stroke:#10b981,stroke-width:3px,color:#fff,stroke-dasharray:0
    style C4 fill:#78350f,stroke:#f59e0b,stroke-width:4px,color:#fff,stroke-dasharray:5 5
    style CL1 fill:#78350f,stroke:#f59e0b,stroke-width:4px,color:#fff,stroke-dasharray:5 5
    style CL2 fill:#78350f,stroke:#f59e0b,stroke-width:4px,color:#fff,stroke-dasharray:5 5
    style CL3 fill:#78350f,stroke:#f59e0b,stroke-width:4px,color:#fff,stroke-dasharray:5 5
    style CO1 fill:#78350f,stroke:#f59e0b,stroke-width:4px,color:#fff,stroke-dasharray:5 5
    style CO2 fill:#78350f,stroke:#f59e0b,stroke-width:4px,color:#fff,stroke-dasharray:5 5
    style CO3 fill:#78350f,stroke:#f59e0b,stroke-width:4px,color:#fff,stroke-dasharray:5 5
    style H1 fill:#0f4c75,stroke:#10b981,stroke-width:3px,color:#fff,stroke-dasharray:0
    style H2 fill:#0f4c75,stroke:#10b981,stroke-width:3px,color:#fff,stroke-dasharray:0

    style PACIENTE fill:#0a1628,stroke:#10b981,stroke-width:3px,color:#10b981,stroke-dasharray:0
    style WHATSAPP fill:#0a1628,stroke:#25D366,stroke-width:3px,color:#25D366,stroke-dasharray:0
    style AGENTE fill:#0a1628,stroke:#DC0073,stroke-width:3px,color:#DC0073,stroke-dasharray:0
    style CLINICORP fill:#0a1628,stroke:#3b82f6,stroke-width:3px,color:#3b82f6,stroke-dasharray:0
    style CLINIA fill:#0a1628,stroke:#8b5cf6,stroke-width:3px,color:#8b5cf6,stroke-dasharray:0
    style CONTEUDO fill:#0a1628,stroke:#f59e0b,stroke-width:3px,color:#f59e0b,stroke-dasharray:0
    style HUB fill:#0a1628,stroke:#06b6d4,stroke-width:3px,color:#06b6d4,stroke-dasharray:0
                        </pre>
                    </div>
                </div>
                
                <!-- Status Cards -->
                <div class="grid md:grid-cols-4 gap-5 mt-8">
                    <div class="section-card rounded-xl p-5 hover:border-[#25D366] transition-all group">
                        <div class="flex items-center gap-3 mb-3">
                            <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-[#25D366] to-[#128C7E] flex items-center justify-center text-xl font-bold shadow-lg shadow-[#25D366]/30 group-hover:scale-110 transition-transform">W</div>
                            <div>
                                <h4 class="font-bold text-base">WhatsApp</h4>
                                <span class="text-xs text-emerald-400 font-semibold bg-emerald-500/10 px-2 py-0.5 rounded-full">CONFIGURADO</span>
                            </div>
                        </div>
                        <p class="text-xs text-orbi-textSec leading-relaxed">N√∫mero de teste: Orbi | N√∫mero oficial: go-live</p>
                    </div>
                    <div class="section-card rounded-xl p-5 hover:border-blue-500 transition-all group">
                        <div class="flex items-center gap-3 mb-3">
                            <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-xl font-bold shadow-lg shadow-blue-500/30 group-hover:scale-110 transition-transform">C</div>
                            <div>
                                <h4 class="font-bold text-base">Clinicorp</h4>
                                <span class="text-xs text-emerald-400 font-semibold bg-emerald-500/10 px-2 py-0.5 rounded-full">INTEGRADO</span>
                            </div>
                        </div>
                        <p class="text-xs text-orbi-textSec leading-relaxed">Agenda + Agendamento OK | Remarca√ß√£o: definir regras</p>
                    </div>
                    <div class="section-card rounded-xl p-5 hover:border-violet-500 transition-all group">
                        <div class="flex items-center gap-3 mb-3">
                            <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-violet-500 to-violet-600 flex items-center justify-center text-xl font-bold shadow-lg shadow-violet-500/30 group-hover:scale-110 transition-transform">CL</div>
                            <div>
                                <h4 class="font-bold text-base">CRM Clinia</h4>
                                <span class="text-xs text-amber-400 font-semibold bg-amber-500/10 px-2 py-0.5 rounded-full">PENDENTE</span>
                            </div>
                        </div>
                        <p class="text-xs text-orbi-textSec leading-relaxed">Integra√ß√£o autom√°tica ou manual? Fonte oficial do funil?</p>
                    </div>
                    <div class="section-card rounded-xl p-5 hover:border-rose-500 transition-all group">
                        <div class="flex items-center gap-3 mb-3">
                            <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-rose-500 to-rose-600 flex items-center justify-center text-xl font-bold shadow-lg shadow-rose-500/30 group-hover:scale-110 transition-transform">CT</div>
                            <div>
                                <h4 class="font-bold text-base">Conte√∫do</h4>
                                <span class="text-xs text-amber-400 font-semibold bg-amber-500/10 px-2 py-0.5 rounded-full">PENDENTE</span>
                            </div>
                        </div>
                        <p class="text-xs text-orbi-textSec leading-relaxed">Links Maps, Reviews, endere√ßos - aguardando cliente</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB: Pendencias -->
        <div id="view-pendencias" class="hidden p-6">
            <div class="max-w-4xl mx-auto">
                <div class="mb-8 text-center">
                    <div class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-gradient-to-r from-amber-500/20 to-orange-500/20 border border-amber-500/30 mb-4">
                        <span class="text-amber-400 font-bold text-xs">CHECKLIST</span>
                    </div>
                    <h2 class="font-display text-3xl font-bold mb-3 bg-gradient-to-r from-white via-orbi-textSec to-white bg-clip-text text-transparent">Checklist de Pend√™ncias</h2>
                    <p class="text-orbi-textSec text-lg">Itens que precisamos do cliente para finalizar o MVP</p>
                </div>
                
                <div class="space-y-4">
                    <!-- Conteudo/RAG - RESPONDIDO -->
                    <div class="section-card rounded-xl p-6 border-emerald-500/50 transition-all group opacity-80">
                        <div class="flex items-start gap-5">
                            <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-emerald-500/20 to-emerald-600/20 border-2 border-emerald-500/30 flex items-center justify-center text-2xl font-bold shrink-0 shadow-lg shadow-emerald-500/20">‚úì</div>
                            <div class="flex-1">
                                <h3 class="font-bold text-lg mb-4 flex items-center gap-3">
                                    <span>Conte√∫do / RAG</span>
                                    <span class="text-xs bg-gradient-to-r from-emerald-500 to-emerald-600 text-white px-3 py-1 rounded-full font-bold shadow-lg shadow-emerald-500/30">‚úì Respondido</span>
                                </h3>
                                <ul class="space-y-3 text-sm">
                                    <li class="flex items-center gap-3 text-emerald-400 transition-colors">
                                        <span class="w-6 h-6 rounded-lg border-2 border-emerald-500 bg-emerald-500 flex items-center justify-center shrink-0 text-white font-bold text-xs">‚úì</span>
                                        <span class="line-through opacity-70">Lista das 5 unidades + endere√ßos completos</span>
                                    </li>
                                    <li class="flex items-center gap-3 text-emerald-400 transition-colors">
                                        <span class="w-6 h-6 rounded-lg border-2 border-emerald-500 bg-emerald-500 flex items-center justify-center shrink-0 text-white font-bold text-xs">‚úì</span>
                                        <span class="line-through opacity-70">Links oficiais do Google Maps por unidade</span>
                                    </li>
                                    <li class="flex items-center gap-3 text-emerald-400 transition-colors">
                                        <span class="w-6 h-6 rounded-lg border-2 border-emerald-500 bg-emerald-500 flex items-center justify-center shrink-0 text-white font-bold text-xs">‚úì</span>
                                        <span class="line-through opacity-70">Links oficiais do Google Reviews</span>
                                    </li>
                                    <li class="flex items-center gap-3 text-emerald-400 transition-colors">
                                        <span class="w-6 h-6 rounded-lg border-2 border-emerald-500 bg-emerald-500 flex items-center justify-center shrink-0 text-white font-bold text-xs">‚úì</span>
                                        <span class="line-through opacity-70">Padr√£o do como chegar por unidade</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Regras Operacionais -->
                    <div class="section-card rounded-xl p-6 hover:border-violet-500 transition-all group">
                        <div class="flex items-start gap-5">
                            <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-violet-500/20 to-violet-600/20 border-2 border-violet-500/30 flex items-center justify-center text-2xl font-bold shrink-0 group-hover:scale-110 transition-transform shadow-lg shadow-violet-500/20">2</div>
                            <div class="flex-1">
                                <h3 class="font-bold text-lg mb-4 flex items-center gap-3">
                                    <span>Regras Operacionais</span>
                                    <span class="text-xs bg-gradient-to-r from-violet-500 to-violet-600 text-white px-3 py-1 rounded-full font-bold shadow-lg shadow-violet-500/30">6 itens</span>
                                    <span class="text-xs bg-gradient-to-r from-rose-500 to-orange-500 text-white px-3 py-1 rounded-full font-bold shadow-lg animate-pulse">üìã REUNI√ÉO</span>
                                </h3>
                                <ul class="space-y-3 text-sm">
                                    <li class="flex items-center gap-3 text-orbi-textSec hover:text-white transition-colors">
                                        <span class="w-6 h-6 rounded-lg border-2 border-violet-500 bg-violet-500/10 flex items-center justify-center shrink-0 group-hover:border-violet-400 transition-colors"></span>
                                        <span>Exce√ß√µes de agenda: sem vaga hoje/amanh√£?</span>
                                    </li>
                                    <li class="flex items-center gap-3 text-orbi-textSec hover:text-white transition-colors">
                                        <span class="w-6 h-6 rounded-lg border-2 border-violet-500 bg-violet-500/10 flex items-center justify-center shrink-0 group-hover:border-violet-400 transition-colors"></span>
                                        <span>Hor√°rios bloqueados ou prioridades</span>
                                    </li>
                                    <li class="flex items-center gap-3 text-orbi-textSec hover:text-white transition-colors">
                                        <span class="w-6 h-6 rounded-lg border-2 border-violet-500 bg-violet-500/10 flex items-center justify-center shrink-0 group-hover:border-violet-400 transition-colors"></span>
                                        <span>Pol√≠tica de remarca√ß√£o: janela m√≠nima</span>
                                    </li>
                                    <li class="flex items-center gap-3 text-orbi-textSec hover:text-white transition-colors">
                                        <span class="w-6 h-6 rounded-lg border-2 border-violet-500 bg-violet-500/10 flex items-center justify-center shrink-0 group-hover:border-violet-400 transition-colors"></span>
                                        <span>Pol√≠tica de cancelamento</span>
                                    </li>
                                    <li class="flex items-center gap-3 text-orbi-textSec hover:text-white transition-colors">
                                        <span class="w-6 h-6 rounded-lg border-2 border-violet-500 bg-violet-500/10 flex items-center justify-center shrink-0 group-hover:border-violet-400 transition-colors"></span>
                                        <span>Eva pode remarcar direto no Clinicorp?</span>
                                    </li>
                                    <li class="flex items-center gap-3 text-orbi-textSec hover:text-white transition-colors">
                                        <span class="w-6 h-6 rounded-lg border-2 border-violet-500 bg-violet-500/10 flex items-center justify-center shrink-0 group-hover:border-violet-400 transition-colors"></span>
                                        <span>FUP: quantidade, intervalos e regras</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Handoff Humano -->
                    <div class="section-card rounded-xl p-6 hover:border-rose-500 transition-all group">
                        <div class="flex items-start gap-5">
                            <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-rose-500/20 to-rose-600/20 border-2 border-rose-500/30 flex items-center justify-center text-2xl font-bold shrink-0 group-hover:scale-110 transition-transform shadow-lg shadow-rose-500/20">3</div>
                            <div class="flex-1">
                                <h3 class="font-bold text-lg mb-4 flex items-center gap-3">
                                    <span>Handoff Humano</span>
                                    <span class="text-xs bg-gradient-to-r from-rose-500 to-rose-600 text-white px-3 py-1 rounded-full font-bold shadow-lg shadow-rose-500/30">4 itens</span>
                                    <span class="text-xs bg-gradient-to-r from-rose-500 to-orange-500 text-white px-3 py-1 rounded-full font-bold shadow-lg animate-pulse">üìã REUNI√ÉO</span>
                                </h3>
                                <ul class="space-y-3 text-sm">
                                    <li class="flex items-center gap-3 text-orbi-textSec hover:text-white transition-colors">
                                        <span class="w-6 h-6 rounded-lg border-2 border-rose-500 bg-rose-500/10 flex items-center justify-center shrink-0 group-hover:border-rose-400 transition-colors"></span>
                                        <span>Lista oficial de gatilhos para handoff</span>
                                    </li>
                                    <li class="flex items-center gap-3 text-orbi-textSec hover:text-white transition-colors">
                                        <span class="w-6 h-6 rounded-lg border-2 border-rose-500 bg-rose-500/10 flex items-center justify-center shrink-0 group-hover:border-rose-400 transition-colors"></span>
                                        <span>Canal/time de destino</span>
                                    </li>
                                    <li class="flex items-center gap-3 text-orbi-textSec hover:text-white transition-colors">
                                        <span class="w-6 h-6 rounded-lg border-2 border-rose-500 bg-rose-500/10 flex items-center justify-center shrink-0 group-hover:border-rose-400 transition-colors"></span>
                                        <span>Hor√°rio de atendimento do time humano</span>
                                    </li>
                                    <li class="flex items-center gap-3 text-orbi-textSec hover:text-white transition-colors">
                                        <span class="w-6 h-6 rounded-lg border-2 border-rose-500 bg-rose-500/10 flex items-center justify-center shrink-0 group-hover:border-rose-400 transition-colors"></span>
                                        <span>SLA: tempo m√°ximo para humano assumir</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- CRM Clinia -->
                    <div class="section-card rounded-xl p-6 hover:border-blue-500 transition-all group">
                        <div class="flex items-start gap-5">
                            <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-blue-500/20 to-blue-600/20 border-2 border-blue-500/30 flex items-center justify-center text-2xl font-bold shrink-0 group-hover:scale-110 transition-transform shadow-lg shadow-blue-500/20">4</div>
                            <div class="flex-1">
                                <h3 class="font-bold text-lg mb-4 flex items-center gap-3">
                                    <span>CRM Clinia</span>
                                    <span class="text-xs bg-gradient-to-r from-blue-500 to-blue-600 text-white px-3 py-1 rounded-full font-bold shadow-lg shadow-blue-500/30">2 itens</span>
                                    <span class="text-xs bg-gradient-to-r from-rose-500 to-orange-500 text-white px-3 py-1 rounded-full font-bold shadow-lg animate-pulse">üìã REUNI√ÉO</span>
                                </h3>
                                <ul class="space-y-3 text-sm">
                                    <li class="flex items-center gap-3 text-orbi-textSec hover:text-white transition-colors">
                                        <span class="w-6 h-6 rounded-lg border-2 border-blue-500 bg-blue-500/10 flex items-center justify-center shrink-0 group-hover:border-blue-400 transition-colors"></span>
                                        <span>Ter√° integra√ß√£o autom√°tica ou registro manual?</span>
                                    </li>
                                    <li class="flex items-center gap-3 text-orbi-textSec hover:text-white transition-colors">
                                        <span class="w-6 h-6 rounded-lg border-2 border-blue-500 bg-blue-500/10 flex items-center justify-center shrink-0 group-hover:border-blue-400 transition-colors"></span>
                                        <span>Qual ser√° a fonte oficial do funil?</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-orbi-card/50 border-t border-white/5 py-4">
        <div class="max-w-[1800px] mx-auto px-6 flex justify-between items-center text-xs text-orbi-textSec">
            <div>SorriaMed x Orbi | Agente Eva MVP v0.1</div>
            <div class="flex items-center gap-4">
                <span>SLA IA: 15s</span>
                <span>|</span>
                <span>Atendimento: 24/7</span>
            </div>
        </div>
    </footer>

    <script>
        // Initialize Mermaid with Premium Configuration
        mermaid.initialize({
            startOnLoad: true,
            theme: 'dark',
            themeVariables: {
                darkMode: true,
                background: 'transparent',
                primaryColor: '#1e293b',
                primaryTextColor: '#f8fafc',
                primaryBorderColor: '#10b981',
                lineColor: '#64748b',
                secondaryColor: '#0f172a',
                tertiaryColor: '#DC0073',
                mainBkg: '#1e293b',
                nodeBorder: '#10b981',
                clusterBkg: 'rgba(15, 23, 42, 0.85)',
                clusterBorder: '#475569',
                titleColor: '#f8fafc',
                edgeLabelBackground: '#1e293b',
                nodeTextColor: '#f8fafc',
                fontFamily: 'Inter, sans-serif',
                fontSize: '14px',
                // Premium enhancements
                cScale0: '#10b981',
                cScale1: '#DC0073',
                cScale2: '#3b82f6',
                cScale3: '#8b5cf6',
                cScale4: '#f59e0b',
                cScale5: '#ef4444',
                // Better contrast
                secondaryTextColor: '#cbd5e1',
                tertiaryTextColor: '#94a3b8',
                // Edge styling
                edgeLabelBackground: 'rgba(30, 41, 59, 0.95)',
                edgeLabelTextColor: '#f8fafc',
                // Cluster styling
                clusterTextColor: '#f8fafc',
                clusterBorderWidth: '3px',
                // Node styling
                defaultNodeBkgColor: '#1e293b',
                defaultNodeBorderColor: '#475569',
                // Line styling
                lineColor: '#64748b',
                mainBkgColor: 'transparent',
                secondBkgColor: '#0f172a',
                tertiaryColor: '#DC0073'
            },
            flowchart: {
                htmlLabels: true,
                curve: 'basis',
                nodeSpacing: 80,
                rankSpacing: 100,
                padding: 40,
                useMaxWidth: true,
                defaultRenderer: 'dagre-wrapper',
                diagramPadding: 40,
                wrap: true,
                wrapPadding: 20,
                subGraphTitleMargin: { top: 20, bottom: 20 }
            },
            securityLevel: 'loose',
            // Additional premium settings
            gantt: {
                useMaxWidth: false
            }
        });

        // Zoom
        let currentZoom = 1;
        function zoomIn() {
            currentZoom = Math.min(currentZoom + 0.15, 2.5);
            applyZoom();
        }
        function zoomOut() {
            currentZoom = Math.max(currentZoom - 0.15, 0.4);
            applyZoom();
        }
        function resetZoom() {
            currentZoom = 1;
            applyZoom();
        }
        function applyZoom() {
            document.querySelectorAll('.diagram-wrapper').forEach(w => {
                w.style.transform = 'scale(' + currentZoom + ')';
            });
            document.getElementById('zoom-level').textContent = Math.round(currentZoom * 100) + '%';
        }

        // Tabs
        function switchTab(tab) {
            document.querySelectorAll('[id^="view-"]').forEach(v => v.classList.add('hidden'));
            document.querySelectorAll('[id^="tab-"]').forEach(t => {
                t.classList.remove('tab-active');
                t.classList.add('bg-orbi-card', 'hover:bg-white/10');
            });
            document.getElementById('view-' + tab).classList.remove('hidden');
            var activeTab = document.getElementById('tab-' + tab);
            activeTab.classList.add('tab-active');
            activeTab.classList.remove('bg-orbi-card', 'hover:bg-white/10');
        }

        // Drag to pan
        document.querySelectorAll('.diagram-container').forEach(function(container) {
            var isDown = false;
            var startX, startY, scrollLeft, scrollTop;
            container.addEventListener('mousedown', function(e) {
                isDown = true;
                container.style.cursor = 'grabbing';
                startX = e.pageX - container.offsetLeft;
                startY = e.pageY - container.offsetTop;
                scrollLeft = container.scrollLeft;
                scrollTop = container.scrollTop;
            });
            container.addEventListener('mouseleave', function() {
                isDown = false;
                container.style.cursor = 'grab';
            });
            container.addEventListener('mouseup', function() {
                isDown = false;
                container.style.cursor = 'grab';
            });
            container.addEventListener('mousemove', function(e) {
                if (!isDown) return;
                e.preventDefault();
                var x = e.pageX - container.offsetLeft;
                var y = e.pageY - container.offsetTop;
                container.scrollLeft = scrollLeft - (x - startX);
                container.scrollTop = scrollTop - (y - startY);
            });
        });

        // Keyboard
        document.addEventListener('keydown', function(e) {
            if (e.key === '+' || e.key === '=') zoomIn();
            if (e.key === '-') zoomOut();
            if (e.key === '0') resetZoom();
        });
    </script>
</body>
</html>
